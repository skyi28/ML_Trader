<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>
<body>
    <header>
        <h1>HEADER</h1>
    </header>
    <div class="container">
        <div class="sidebar" id="sidebar">
            <ul class="no_border">
                <li><span class="icon"><button class="toggle-btn" onclick="toggleSidebar()"><img src="{{ url_for('static', filename='images/icons/sidebar.svg') }}" id="sidebar_dots"></button></span></li>
                <li><a href="/dashboard"><span class="icon"><img src="{{ url_for('static', filename='images/icons/dashboard.svg') }}"></span><span class="text">Dashboard</span></a></li>
                <li><a href="/bot_overview"><span class="icon"><img src="{{ url_for('static', filename='images/icons/list.svg') }}"></span><span class="text">My Bots</span></a></li>
                <li><a href="/bot_creation"><span class="icon"><img src="{{ url_for('static', filename='images/icons/plus.svg') }}"></span><span class="text">Create a Bot</span></a></li>
            </ul>
        </div>
        <div class="main-content">
            <button class="reset-zoom-btn" onclick="reset_zoom()">Reset Zoom</button>
            <div class="line-graph-container"> <!-- New container for the graph -->
                <canvas id="lineGraph"></canvas>
            </div>
        </div>
        <div class="table-container">
            <h2>Data Table</h2>
            <table>
                <thead>
                    <tr>
                        <th>Header 1</th>
                        <th>Header 2</th>
                        <th>Header 3</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Data 1</td>
                        <td>Data 2</td>
                        <td>Data 3</td>
                    </tr>
                    <tr>
                        <td>Data 4</td>
                        <td>Data 5</td>
                        <td>Data 6</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="{{ url_for('static', filename='js/chart.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

    <script>
        const ctx = document.getElementById('lineGraph').getContext('2d');
        var lineGraph = fetch_chart_data('{{ symbol }}', '50', ctx);
        // lineGraph = createLineGraph(
        //     ctx,
        //     ['a','b'], // Labels
        //     [10,20], // Data
        //     '{{ symbol }}', // Label
        //     'rgba(75, 192, 192, 1)', // Line color
        //     'rgba(75, 192, 192, 0.2)', // Fill color
        //     'Month', // X-axis title
        //     'Value' // Y-axis title
        // );

        function reset_zoom() {
            console.log('reset_zoom');
            lineGraph.resetZoom();
        }
    </script>
</body>
</html>
